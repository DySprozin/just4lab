<?phpdefined ('ROOT') or exit();class Cls_Kvak { public $access = array(); //Массив группа => пользователи public $chmod = array(); //Двумерный массив: группа/пользователи => доступ public function __construct() {  $access_path = ROOT . 'conf/kvak/groups/';  $access_array = scandir($access_path);  foreach ($access_array as $value) {   if ($value == '.' || $value == '..') continue;   $this->access[$value] = file($access_path . $value);  } } }class Cls_Kvak_Items extends Cls_Kvak { ## #Структура создания пункта квака, которую запоняем вручную public $img_src = ''; public $a_title = ''; public $img_alt = ''; public $img_class = 'img_right_menu'; public $div_class = 'border_right_menu'; // | border_right_menu2line public $f = 'n/a'; public $title = ''; public $title2 = ''; public $active = 'off'; # ## /** Конструктор с указанием доступа (по умолчанию - для всех только чтение)* @param string - (all, guest, reguser, group1, moder, numuser)* @param string - (r--, rw-, rwx, ---), x - создавать темы*/ public function __construct() {  parent::__construct();  $this->chmod['all'] = 'r--'; }  public function kvak() {  if ($this->chmod['all'] == '---') return '';  if ($this->active == 'off') {   $link = <<< LINK    <a class="right_link_kva" href="/kvak/$this->f/" title='$this->a_title'>$this->title</a> $this->title2LINK;  }  else {   $link = <<< LINK    <a href="#main_top" class="visited" onclick="blink('actual_title')">$this->title</a> $this->title2</a>LINK;  }  $new_kvak = <<<KVAK     <img src="$this->img_src" alt="$this->img_alt" class="$this->img_class">   <div class="$this->div_class">    $link   </div>   <br class="break">KVAK;  return $new_kvak; }}